{"ast":null,"code":"import _slicedToArray from\"/Users/newsilver/Project/react-study-7-weeks/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useSelector,useDispatch}from'react-redux';import{useState}from\"react\";import DiscountsMenu from\"./DiscountsMenu\";import{Text,Box,Checkbox,Flex,Button}from'@chakra-ui/react';import{discountReducer}from'../Reducers/discountReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DiscountsElement(props){var _useSelector=useSelector(function(store){return store.discountReducer;}),discounts=_useSelector.discounts;var dispatch=useDispatch();var id=props.id,name=props.name,discountRate=props.discountRate;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isChecked=_useState4[0],setIsChecked=_useState4[1];var onSelect=function onSelect(name){dispatch(discountReducer.actions.SELECT_DISCOUNTS(name));};var onCompute=function onCompute(){dispatch(discountReducer.actions.COMPUTE_PRICE());};function discountCheckboxToggleHandler(event){onSelect(name);onCompute();var checked=event.target.checked;if(!checked){setIsChecked(false);return;}setIsChecked(true);}function selectButtonClickHandler(){if(!isOpen){setIsOpen(true);return;}setIsOpen(false);}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",marginY:\"10px\",children:[/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",children:/*#__PURE__*/_jsx(Checkbox,{id:name,isChecked:isChecked,onChange:discountCheckboxToggleHandler,children:/*#__PURE__*/_jsxs(Box,{marginX:\"15px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",fontWeight:\"semibold\",children:name}),/*#__PURE__*/_jsxs(Text,{as:\"sub\",fontSize:\"sm\",color:\"darkgray\",children:[discountRate,\" %\"]})]})})}),/*#__PURE__*/_jsx(Button,{onClick:selectButtonClickHandler,children:\"\\uBA54\\uB274 \\uC120\\uD0DD\"})]}),isOpen&&/*#__PURE__*/_jsx(DiscountsMenu,{id:id,name:name})]});}","map":{"version":3,"sources":["/Users/newsilver/Project/react-study-7-weeks/src/Components/DiscountsElement.tsx"],"names":["useSelector","useDispatch","useState","DiscountsMenu","Text","Box","Checkbox","Flex","Button","discountReducer","DiscountsElement","props","store","discounts","dispatch","id","name","discountRate","isOpen","setIsOpen","isChecked","setIsChecked","onSelect","actions","SELECT_DISCOUNTS","onCompute","COMPUTE_PRICE","discountCheckboxToggleHandler","event","checked","target","selectButtonClickHandler"],"mappings":"kIAAA,OAASA,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,KAAyB,OAAzB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,QAApB,CAA8BC,IAA9B,CAAoCC,MAApC,KAAkD,kBAAlD,CACA,OAASC,eAAT,KAAgC,6BAAhC,C,wFAEA,cAAe,SAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAkF,CAC/F,iBAAsBX,WAAW,CAAC,SAACY,KAAD,QAAsBA,CAAAA,KAAK,CAACH,eAA5B,EAAD,CAAjC,CAAQI,SAAR,cAAQA,SAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,GAAOc,CAAAA,EAAP,CAAiCJ,KAAjC,CAAOI,EAAP,CAAWC,IAAX,CAAiCL,KAAjC,CAAWK,IAAX,CAAiBC,YAAjB,CAAiCN,KAAjC,CAAiBM,YAAjB,CACA,cAA4Bf,QAAQ,CAAC,KAAD,CAApC,wCAAOgB,MAAP,eAAeC,SAAf,eACA,eAAkCjB,QAAQ,CAAC,KAAD,CAA1C,yCAAOkB,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACN,IAAD,CAAwB,CACvCF,QAAQ,CAACL,eAAe,CAACc,OAAhB,CAAwBC,gBAAxB,CAAyCR,IAAzC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMS,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBX,QAAQ,CAACL,eAAe,CAACc,OAAhB,CAAwBG,aAAxB,EAAD,CAAR,CACD,CAFD,CAIA,QAASC,CAAAA,6BAAT,CAAuCC,KAAvC,CAAyD,CACvDN,QAAQ,CAACN,IAAD,CAAR,CACAS,SAAS,GACT,GAAMI,CAAAA,OAAO,CAAGD,KAAK,CAACE,MAAN,CAAaD,OAA7B,CACA,GAAG,CAACA,OAAJ,CAAa,CACXR,YAAY,CAAC,KAAD,CAAZ,CACA,OACD,CACDA,YAAY,CAAC,IAAD,CAAZ,CACD,CAED,QAASU,CAAAA,wBAAT,EAA0C,CACxC,GAAG,CAACb,MAAJ,CAAY,CACVC,SAAS,CAAC,IAAD,CAAT,CACA,OACD,CACDA,SAAS,CAAC,KAAD,CAAT,CACD,CAED,mBACE,MAAC,GAAD,yBACE,MAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,OAAO,CAAC,MAA7C,wBACE,KAAC,IAAD,EAAM,UAAU,CAAC,QAAjB,uBACE,KAAC,QAAD,EAAU,EAAE,CAAEH,IAAd,CAAoB,SAAS,CAAEI,SAA/B,CAA0C,QAAQ,CAAEO,6BAApD,uBACA,MAAC,GAAD,EAAK,OAAO,CAAC,MAAb,wBACE,KAAC,IAAD,EAAM,QAAQ,CAAC,IAAf,CAAoB,UAAU,CAAC,UAA/B,UAA2CX,IAA3C,EADF,cAEE,MAAC,IAAD,EAAM,EAAE,CAAC,KAAT,CAAe,QAAQ,CAAC,IAAxB,CAA6B,KAAK,CAAC,UAAnC,WAA+CC,YAA/C,QAFF,GADA,EADF,EADF,cASE,KAAC,MAAD,EAAQ,OAAO,CAAEc,wBAAjB,uCATF,GADF,CAYGb,MAAM,eAAI,KAAC,aAAD,EAAe,EAAE,CAAEH,EAAnB,CAAuB,IAAI,CAAEC,IAA7B,EAZb,GADF,CAgBD","sourcesContent":["import { useSelector, useDispatch } from 'react-redux';\nimport { useState } from \"react\";\nimport { RootState } from '../Reducers';\nimport DiscountsMenu from \"./DiscountsMenu\";\n\nimport { Text, Box, Checkbox, Flex, Button } from '@chakra-ui/react';\nimport { discountReducer } from '../Reducers/discountReducer';\n\nexport default function DiscountsElement(props: {id:string, name: string, discountRate: number}) {\n  const { discounts } = useSelector((store: RootState) => store.discountReducer);\n  const dispatch = useDispatch();\n  const {id, name, discountRate} = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const [isChecked, setIsChecked] = useState(false);\n\n  const onSelect = (name: string): void => {\n    dispatch(discountReducer.actions.SELECT_DISCOUNTS(name));\n  }\n\n  const onCompute = () => {\n    dispatch(discountReducer.actions.COMPUTE_PRICE());\n  }\n\n  function discountCheckboxToggleHandler(event: any): void {\n    onSelect(name);\n    onCompute();\n    const checked = event.target.checked;\n    if(!checked) {\n      setIsChecked(false);\n      return;\n    }\n    setIsChecked(true); \n  }\n\n  function selectButtonClickHandler(): void {\n    if(!isOpen) {\n      setIsOpen(true);\n      return;\n    }\n    setIsOpen(false);\n  }\n\n  return (\n    <Box>\n      <Flex justifyContent=\"space-between\" marginY=\"10px\">\n        <Flex alignItems=\"center\">\n          <Checkbox id={name} isChecked={isChecked} onChange={discountCheckboxToggleHandler}>\n          <Box marginX=\"15px\">\n            <Text fontSize=\"lg\" fontWeight=\"semibold\">{name}</Text>\n            <Text as=\"sub\" fontSize=\"sm\" color=\"darkgray\">{discountRate} %</Text>\n          </Box>\n          </Checkbox>\n        </Flex>\n        <Button onClick={selectButtonClickHandler}>메뉴 선택</Button>\n      </Flex>\n      {isOpen && <DiscountsMenu id={id} name={name}/>}\n    </Box>\n  )\n}"]},"metadata":{},"sourceType":"module"}